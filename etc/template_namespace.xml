<namespace xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="namespace.xsd">
  <filesystems>
    <filesystem name="scratch-FS" fs_type="ext3">
      <root>/mnt/gpfs/tmp</root>
      <filesystem-driver>it.grid.storm.filesystem.swig.genericfs</filesystem-driver>
      <spacesystem-driver>it.grid.storm.filesystem.SpaceSystem</spacesystem-driver>
      <defaults-values>
        <space lifetime="3600" type="volatile" guarsize="0" totalsize="10487560"/>
        <file lifetime="3600" type="volatile"/>
      </defaults-values>
      <capabilities>
        <aclMode>JiT</aclMode>
        <trans-prot>
          <prot name="gsiftp">
            <schema>gsiftp</schema>
            <host>${gridftpserver_host}</host>
          </prot>
        </trans-prot>
        <filetype>volatile,permanent</filetype>
        <spacetype>volatile</spacetype>
        <spaceLifeTimeMAX>86400</spaceLifeTimeMAX>
        <spaceTotSizeMAX>1048756000</spaceTotSizeMAX>
        <spaceGuarSizeMAX>0</spaceGuarSizeMAX>
        <fileLifeTimeMAX>86400</fileLifeTimeMAX>
      </capabilities>
    </filesystem>
    <filesystem name="cnaf-FS" fs_type="gpfs">
      <root>/mnt/gpfs/cnaf</root>
      <filesystem-driver>it.grid.storm.filesystem.swig.gpfs</filesystem-driver>
      <spacesystem-driver>it.grid.storm.filesystem.GPFSSpaceSystem</spacesystem-driver>
      <defaults-values>
        <space lifetime="86400" type="volatile" guarsize="10487560" totalsize="10487560"/>
        <file lifetime="3600" type="volatile"/>
      </defaults-values>
      <capabilities>
        <aclMode>AoT</aclMode>
        <trans-prot>
          <prot name="file">
            <schema>file</schema>
          </prot>
          <prot name="gsiftp">
            <schema>gsiftp</schema>
            <host>${gridftpserver_host}</host>
            <port>1234</port>
          </prot>
        </trans-prot>
        <filetype>volatile, permanent</filetype>
        <spacetype>volatile, permanent</spacetype>
        <spaceLifeTimeMAX>86400</spaceLifeTimeMAX>
        <spaceTotSizeMAX>1048756000</spaceTotSizeMAX>
        <spaceGuarSizeMAX>104875600</spaceGuarSizeMAX>
        <fileLifeTimeMAX>86400</fileLifeTimeMAX>
      </capabilities>
    </filesystem>
    <filesystem name="egrid-FS" fs_type="xfs">
      <root>/mnt/gpfs/egrid</root>
      <filesystem-driver>it.grid.storm.filesystem.swig.xfs</filesystem-driver>
      <spacesystem-driver>it.grid.storm.filesystem.SpaceSystem</spacesystem-driver>
      <defaults-values>
        <space lifetime="86400" type="volatile" guarsize="0" totalsize="10487560"/>
        <file lifetime="3600" type="volatile"/>
      </defaults-values>
      <capabilities>
        <aclMode>JiT</aclMode>
        <trans-prot>
          <prot name="file">
            <schema>file</schema>
          </prot>
          <prot name="gsiftp">
            <schema>gsiftp</schema>
            <host>${gridftpserver_host}</host>
            <port>2812</port>
          </prot>
        </trans-prot>
        <filetype>volatile, permanent</filetype>
        <spacetype>volatile, permanent</spacetype>
        <spaceLifeTimeMAX>86400</spaceLifeTimeMAX>
        <spaceTotSizeMAX>1048756000</spaceTotSizeMAX>
        <spaceGuarSizeMAX>104875600</spaceGuarSizeMAX>
        <fileLifeTimeMAX>86400</fileLifeTimeMAX>
      </capabilities>
    </filesystem>
  </filesystems>
  <mapping-rules>
    <map-rule name="cnaf-maprule">
      <stfn-root>/cnaf</stfn-root>
      <mapped-fs>cnaf-FS</mapped-fs>
    </map-rule>
    <map-rule name="egrid-maprule">
      <stfn-root>/grid</stfn-root>
      <mapped-fs>egrid-FS</mapped-fs>
    </map-rule>
    <map-rule name="default">
      <stfn-root>/</stfn-root>
      <mapped-fs>scratch-FS</mapped-fs>
    </map-rule>
  </mapping-rules>
  <approachable-rules>
    <app-rule name="rule-1">
      <subjects>
        <dn>E=*, CN=*, OU=* O=* C=*</dn>
        <vo-name>cnaf</vo-name>
      </subjects>
      <approachable-fs>cnaf-FS, scratch-FS</approachable-fs>
      <space-rel-path>/spacefile</space-rel-path>
    </app-rule>
    <app-rule name="rule-2">
      <subjects>
        <dn>E=*, CN=*, OU=* O=* C=*</dn>
      </subjects>
      <approachable-fs>scratch-FS</approachable-fs>
      <space-rel-path>/spacefile</space-rel-path>
    </app-rule>
  </approachable-rules>
</namespace>
